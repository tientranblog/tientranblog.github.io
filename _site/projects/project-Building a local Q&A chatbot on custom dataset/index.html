<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Building a local Q&amp;A chatbot on custom dataset - Tien Tran Blog</title>
<meta name="description" content="An AI chatbot run locally to query information from a private dataset">


  <meta name="author" content="Tien Tran">
  
  <meta property="article:author" content="Tien Tran">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Tien Tran Blog">
<meta property="og:title" content="Building a local Q&amp;A chatbot on custom dataset">
<meta property="og:url" content="http://localhost:4000/projects/project-Building%20a%20local%20Q&A%20chatbot%20on%20custom%20dataset/">


  <meta property="og:description" content="An AI chatbot run locally to query information from a private dataset">



  <meta property="og:image" content="http://localhost:4000/assets/obsidian/163dacc0795d369e7f58ab83d514b34d.png">





  <meta property="article:published_time" content="2025-02-25T21:12:07-05:00">





  

  


<link rel="canonical" href="http://localhost:4000/projects/project-Building%20a%20local%20Q&A%20chatbot%20on%20custom%20dataset/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Tien Tran Blog Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Tien Tran Blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/"
                
                
              >Blog</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects/"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="http://localhost:4000/">
        <img src="/assets/images/author_avt.jpg" alt="Tien Tran" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Tien Tran</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>Welcome to my blog!</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Ontario, Canada</span>
        </li>
      

      
        
          
            <li><a href="https://www.linkedin.com/in/tienththtran" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">Linkedin</span></a></li>
          
        
          
            <li><a href="https://www.youtube.com/@tienththtran" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-youtube" aria-hidden="true"></i><span class="label">Youtube</span></a></li>
          
        
          
            <li><a href="https://github.com/tientranblog" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Building a local Q&amp;A chatbot on custom dataset">
    <meta itemprop="description" content="An AI chatbot run locally to query information from a private dataset">
    <meta itemprop="datePublished" content="2025-02-25T21:12:07-05:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="http://localhost:4000/projects/project-Building%20a%20local%20Q&A%20chatbot%20on%20custom%20dataset/" itemprop="url">Building a local Q&amp;A chatbot on custom dataset
</a>
          </h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#business-scenario">Business Scenario</a></li><li><a href="#techniques">Techniques</a></li><li><a href="#workflow">Workflow</a><ul><li><a href="#1-file-upload">1. File upload</a></li><li><a href="#2-document-processing">2. Document processing</a></li><li><a href="#3-query-input">3. Query input</a></li><li><a href="#4-generating-responses">4. Generating responses</a></li><li><a href="#5-response-display">5. Response display</a></li></ul></li><li><a href="#functionalities">Functionalities</a></li><li><a href="#demo">Demo</a></li></ul>
            </nav>
          </aside>
        
        <h2 id="business-scenario"><strong>Business Scenario</strong></h2>

<p>The business scenario for this application is to provide a Q&amp;A chatbot running locally that can provide quick and accurate answers based on the content of the uploaded documents.
This chatbot is ensure the information answering based on private provided materials, prevent hallucination, a common problem when using cloud-based large language models (LLM). Additionally, the uploaded file mad model are saved locally, ensuring the privacy of the data. Finally, the chat bot is free to use after setup because users don’t have to pay per API request.</p>

<h2 id="techniques"><strong>Techniques</strong></h2>

<p><strong>Streamlit</strong>: A framework for creating interactive web applications in Python.
<strong>LangChain</strong>: A library for building language model applications.
<strong>Ollama</strong>: A open-source framework for managing LLMs locally.
<strong>LLM</strong>: DeepSeek R1 model, which is significant for chain-of-thought reasoning
<strong>RAG</strong>: stand for Retrieval-Augmented Generation, an AI technique that combines retrieval-based and generative approaches to improve the accuracy and relevance of responses in language models.</p>

<h2 id="workflow"><strong>Workflow</strong></h2>

<h3 id="1-file-upload"><strong>1. File upload</strong></h3>
<p>Users can upload files in PDF, DOCX, TXT, or CSV formats. The uploaded file is saved locally.</p>
<h3 id="2-document-processing"><strong>2. Document processing</strong></h3>
<p>Document loader modules to load documents in various formats. The document is split into chunks using  RecursiveCharacterTextSplitter HuggingFace embeddings are created for the document chunks. The document chunks are stored in a vector store (FAISS). A retriever is set up to perform similarity search on the vector store.</p>
<h3 id="3-query-input"><strong>3. Query input</strong></h3>
<p>Users can input questions via text box.</p>
<h3 id="4-generating-responses"><strong>4. Generating responses</strong></h3>
<p>Ollama DeepSeek R1 model is instantiated for generating responses based on A prompt template. A ConversationalRetrievalChain is created to handle question-answering with the LLM and retriever.</p>
<h3 id="5-response-display"><strong>5. Response display</strong></h3>
<p>The response is displayed in three tabs: “Answer,” “Reasoning,” and “History.” Any errors during processing are caught and displayed as error messages. The app maintains a history of questions and responses in the session state.</p>

<h2 id="functionalities"><strong>Functionalities</strong></h2>

<ul>
  <li><strong>Interactive Interface</strong>: The app provides an interactive interface with file upload on sidebar and chatbot question and answer on the main page</li>
</ul>

<p><img src="/assets/obsidian/6cbaccb124fca8996ef60df165f97196.png" /></p>

<p><img src="/assets/obsidian/47b96d50fd891726008b87f0200989ab.png" /></p>

<p><img src="/assets/obsidian/163dacc0795d369e7f58ab83d514b34d.png" /></p>

<ul>
  <li><strong>Support multiple format:</strong> Users can ask questions related to many format docucments such as pdf, docx, txt, csv</li>
</ul>

<p><img src="/assets/obsidian/7aa5810deb46b2fb136beaf1c47d8883.png" /></p>

<p><img src="/assets/obsidian/e4b3259bebc0955f54d047c9bd9b6710.png" /></p>

<p><img src="/assets/obsidian/d84050f61e61ee7eab750a203d1a5b5a.png" /></p>

<p><img src="/assets/obsidian/a8cde9d7315642ebc7b1ce991e5e8eeb.png" /></p>

<ul>
  <li><strong>Reasoning explanation:</strong> every answer is explained by chain of reasoning supported by Deepseek.</li>
</ul>

<p><img src="/assets/obsidian/8ddeb8f0a42db0a88ba68ac41e585ff7.png" /></p>

<ul>
  <li><strong>Conversational History</strong>: The app maintains a history of questions and answers, allowing users to review past interactions.</li>
</ul>

<p><img src="/assets/obsidian/08258e2e5a2c017efd1587f59e9dac79.png" /></p>

<p><img src="/assets/obsidian/135e3704fb4234e08fa8505f0fb46a43.png" /></p>

<ul>
  <li><strong>Work with tabular data</strong></li>
</ul>

<p><img src="/assets/obsidian/41d53f237796c32f4490d3fce4452551.png" /></p>

<p><img src="/assets/obsidian/ca2d3fb4d1387d7f254944cea127faac.png" /></p>

<h2 id="demo"><strong>Demo</strong></h2>

<iframe width="560" height="315" src="https://www.youtube.com/embed/Igcjqi368fk?si=jCjyR4_cBMz4fSD3" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>


        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2025-02-25T21:12:07-05:00">February 25, 2025</time></p>

      </footer>

      

      
  <nav class="pagination">
    
      <a href="/projects/project-Building%20a%20classification%20model%20to%20predict%20type-2%20diabetes/" class="pagination--pager" title="Building a classification model to predict type-2 diabetes">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
  
<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://www.linkedin.com/in/tienththtran" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> Linkedin</a></li>
        
      
        
          <li><a href="https://www.youtube.com/@tienththtran" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-youtube" aria-hidden="true"></i> Youtube</a></li>
        
      
        
          <li><a href="https://github.com/tientranblog" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    <!-- 
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
     -->
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 <a href="http://localhost:4000">Tien Tran Blog</a>
  <!-- Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>. -->
</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
